import{_ as L,k as y,o as h,b as E,f as v,e as T,r as f,g as S,i as O,q as o}from"./index-feV8QH7Y.js";import{p as P,r as V}from"./hljs-utils-BZutKiLg.js";import{G as x,a as D}from"./GlobalLoader-DnKxe2ww.js";function R(s){if(s){try{s.querySelectorAll(".accordion-toggle").forEach(e=>{e.setAttribute("aria-controls",e.id?e.id+"-panel":""),e.setAttribute("aria-expanded","false");const r=(e.closest(".card, div, section")||s).querySelector(".accordion-content");r&&(r.style.maxHeight="0px",r.setAttribute("hidden",""),r.setAttribute("role","region"),e.addEventListener("click",()=>{if(r.hasAttribute("hidden")===!1){r.style.maxHeight="0px",r.setAttribute("hidden",""),e.setAttribute("aria-expanded","false");try{e.querySelector(".transform")?.classList.remove("rotate-180")}catch{}}else{r.removeAttribute("hidden");const c=r.scrollHeight;r.style.maxHeight=c+"px",e.setAttribute("aria-expanded","true");try{e.querySelector(".transform")?.classList.add("rotate-180")}catch{}}}))})}catch{}try{s.querySelectorAll(".aspect-video").forEach(e=>{if(e.querySelector("iframe, video, embed, object"))return;let r=e.getAttribute("data-src")||e.dataset?.src||e.querySelector('a[href^="http"]')?.getAttribute("href")||e.parentElement?.querySelector('a[href^="http"]')?.getAttribute("href");if(r&&(r=(_=>{try{const u=new URL(_,window.location.href);return/youtube\.com$/i.test(u.hostname)||/youtu\.be$/i.test(u.hostname)?u.hostname.includes("youtu.be")?`https://www.youtube-nocookie.com/embed/${u.pathname.replace(/^\//,"")}`:_.replace("www.youtube.com","www.youtube-nocookie.com").replace("youtube.com","youtube-nocookie.com"):_}catch{return _}})(r)),!r)return;try{const u=new URL(r,window.location.href).hostname,m=/youtube\.com$/i.test(u)||/youtu\.be$/i.test(u)||u.includes("youtube-nocookie"),p=/vimeo\.com$/i.test(u)||u.includes("player.vimeo.com");if(!(m||p))return}catch{return}const t=e.closest(".card")?.querySelector("h3, h4, h5")?.textContent?.trim()||"Vídeo",i=document.createElement("iframe");i.setAttribute("src",r),i.setAttribute("title",t),i.setAttribute("frameborder","0"),i.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),i.setAttribute("allowfullscreen",""),i.setAttribute("loading","lazy"),i.setAttribute("referrerpolicy","strict-origin-when-cross-origin"),e.appendChild(i)})}catch{}try{s.querySelectorAll("pre > code").forEach(e=>{const a=e.parentElement;if(!a||a.dataset.enhancedCopy==="1")return;a.dataset.enhancedCopy="1";const r=document.createElement("div");r.className="code-block relative",a.parentNode.insertBefore(r,a),r.appendChild(a);const n=document.createElement("button");n.type="button",n.className="copy-code-btn btn btn-icon btn-tonal absolute top-2 right-2",n.setAttribute("aria-label","Copiar código"),n.setAttribute("title","Copiar código"),n.innerHTML='<i class="fa-solid fa-copy"></i>',r.appendChild(n),n.addEventListener("click",async()=>{try{const c=e.innerText||"";c&&await navigator.clipboard?.writeText(c),window.__showSnackbar&&window.__showSnackbar("Código copiado")}catch{}},{passive:!0})})}catch{}try{const l=s.querySelectorAll("p, li, h4, h5, h6, span, div"),e=/\*\*([A-Za-zÀ-ÿ0-9_.,;:()\/\\\-\s]{1,40})\*\*/g;l.forEach(a=>{if(!a.closest("pre, code")){if(!a.innerHTML||a.childElementCount>0){a.innerHTML&&a.innerHTML.includes("**")&&(a.innerHTML=a.innerHTML.replace(e,"<code-text>$1</code-text>"));return}a.textContent.includes("**")&&(a.innerHTML=a.innerHTML.replace(e,"<code-text>$1</code-text>"))}})}catch{}}}const k={name:"AulaView",components:{GlobalAlert:D,GlobalLoader:x},props:{id:{type:String,required:!0}},setup(s){const l=f(!0),e=f(null),a=f(""),r=f("Aula"),n=Object.assign({"/public/aulas/aula1.html":()=>o(()=>import("./aula1-DoBXBnWh.js"),[]).then(t=>t.default),"/public/aulas/aula10.html":()=>o(()=>import("./aula10-CtR0UhvF.js"),[]).then(t=>t.default),"/public/aulas/aula11.html":()=>o(()=>import("./aula11-tDzpBZ-W.js"),[]).then(t=>t.default),"/public/aulas/aula12.html":()=>o(()=>import("./aula12-CQnCV6Sc.js"),[]).then(t=>t.default),"/public/aulas/aula13.html":()=>o(()=>import("./aula13-BhlCF-1E.js"),[]).then(t=>t.default),"/public/aulas/aula14.html":()=>o(()=>import("./aula14-CVwI2KhA.js"),[]).then(t=>t.default),"/public/aulas/aula15.html":()=>o(()=>import("./aula15-B9UGfdWs.js"),[]).then(t=>t.default),"/public/aulas/aula2.html":()=>o(()=>import("./aula2-BjuKgnJU.js"),[]).then(t=>t.default),"/public/aulas/aula29.html":()=>o(()=>import("./aula29-Ai3V9RoG.js"),[]).then(t=>t.default),"/public/aulas/aula3.html":()=>o(()=>import("./aula3-CejLakaC.js"),[]).then(t=>t.default),"/public/aulas/aula39.html":()=>o(()=>import("./aula39-BFSmmi0O.js"),[]).then(t=>t.default),"/public/aulas/aula4.html":()=>o(()=>import("./aula4-D1yrfBC7.js"),[]).then(t=>t.default),"/public/aulas/aula5.html":()=>o(()=>import("./aula5-4rH73c5q.js"),[]).then(t=>t.default),"/public/aulas/aula6.html":()=>o(()=>import("./aula6-B8uCjx8g.js"),[]).then(t=>t.default),"/public/aulas/aula7.html":()=>o(()=>import("./aula7-JultFUkl.js"),[]).then(t=>t.default),"/public/aulas/aula8.html":()=>o(()=>import("./aula8-i8UPnoQx.js"),[]).then(t=>t.default),"/public/aulas/aula9.html":()=>o(()=>import("./aula9-DGn6zYgH.js"),[]).then(t=>t.default)}),c=async t=>{try{l.value=!0,e.value=null;const i=await fetch("/algi/aulas/aulas.json");if(!i.ok)throw new Error("Não foi possível carregar o índice de aulas.");const _=await i.json(),m=(Array.isArray(window.__AULAS_META)?window.__AULAS_META:_).find(d=>d.id===t);if(!m)throw new Error("Aula não encontrada");r.value=m.titulo;const p=m.arquivo||`${t}.html`,b=`/public/aulas/${p}`;if(!n[b])throw new Error(`Arquivo da aula não encontrado no build: ${p}`);const w=await n[b]();if(a.value=P.sanitize(w,{ADD_TAGS:["md3-video","md3-callout","md3-checkbox","md3-external","iframe"],ADD_ATTR:["title","src","allow","variant","label","checked","href","icon","target","rel","allowfullscreen","frameborder","loading","referrerpolicy"]}),window.localStorage){const d=JSON.parse(localStorage.getItem("visited_aula")||"[]");d.includes(t)||(d.push(t),localStorage.setItem("visited_aula",JSON.stringify(d)))}setTimeout(()=>{try{const d=document.querySelector("#main-root .md3-content")||document.getElementById("main-root");R(d),d.querySelectorAll('a[href^="http"]').forEach(A=>{try{A.setAttribute("target","_blank")}catch{}try{A.setAttribute("rel","noopener noreferrer")}catch{}})}catch{}V()},80)}catch(i){e.value=i.message,console.error("Error loading aula:",i)}finally{l.value=!1}};return S(()=>{c(s.id)}),O(()=>s.id,t=>{t&&c(t)}),{loading:l,error:e,aulaContent:a,aulaTitle:r}}},q={key:2},I=["innerHTML"];function M(s,l,e,a,r,n){const c=v("GlobalLoader"),t=v("GlobalAlert");return h(),y("div",null,[a.loading?(h(),E(c,{key:0,title:"Carregando aula",subtitle:"Preparando o conteúdo..."})):a.error?(h(),E(t,{key:1,text:a.error,variant:"error",icon:"fa-solid fa-triangle-exclamation"},null,8,["text"])):(h(),y("div",q,[T("div",{innerHTML:a.aulaContent,class:"md3-content pt-6"},null,8,I)]))])}const G=L(k,[["render",M],["__scopeId","data-v-b1198658"]]);export{G as default};
